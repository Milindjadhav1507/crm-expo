<div>
  <mat-card class="shadow">
    <mat-card-header>
      <mat-card-title>Create Lead</mat-card-title>
      <div class="col-md-6" style="text-align: end;padding-bottom: 10px">
        <button mat-button mat-dialog-close class="btn-close"></button>
      </div>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="leadForm" (ngSubmit)="onSubmit()">
          <div class="row">
            <!-- Lead Name -->
            <div class="col-md-6">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Lead Name</mat-label>
                <input
                  matInput
                  placeholder="Enter lead name"
                  formControlName="leadName"
                />
                <mat-error *ngIf="leadForm.get('leadName')?.hasError('required') && leadForm.get('leadName')?.touched">
                  Lead name is required.
                </mat-error>
                <mat-error *ngIf="leadForm.get('leadName')?.hasError('minlength')">
                  Lead name must be at least 3 characters long.
                </mat-error>
                <mat-error *ngIf="leadForm.get('leadName')?.hasError('maxlength')">
                  Lead name cannot exceed 50 characters.
                </mat-error>
              </mat-form-field>
            </div>
        
            <!-- Email -->
            <div class="col-md-6">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Email</mat-label>
                <input
                  matInput
                  type="email"
                  placeholder="Enter email address"
                  formControlName="email"
                />
                <mat-error *ngIf="leadForm.get('email')?.hasError('required') && leadForm.get('email')?.touched">
                  Email is required.
                </mat-error>
                <mat-error *ngIf="leadForm.get('email')?.hasError('email')">
                  Please enter a valid email address.
                </mat-error>
              </mat-form-field>
            </div>
          </div>
        
          <div class="row">
            <!-- Phone -->
            <div class="col-md-6">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Phone</mat-label>
                <input
                  matInput
                  type="text"
                  placeholder="Enter phone number"
                  formControlName="phone"
                />
                <mat-error *ngIf="leadForm.get('phone')?.hasError('required') && leadForm.get('phone')?.touched">
                  Phone number is required.
                </mat-error>
                <mat-error *ngIf="leadForm.get('phone')?.hasError('pattern')">
                  Please enter a valid 10-digit phone number.
                </mat-error>
              </mat-form-field>
            </div>
        
            <!-- Lead Source -->
            <div class="col-md-6">
              <mat-form-field appearance="outline" class="w-100">
                  <mat-label>Lead Source</mat-label>
                  <mat-select formControlName="leadSource">
                    <mat-option *ngFor="let option of leadSourceOptions" [value]="option.id">
                      {{ option.name }}
                      </mat-option>
                  </mat-select>
                  <mat-error *ngIf="leadForm.get('leadSource')?.hasError('required') && leadForm.get('leadSource')?.touched">
                    Lead source is required.
                  </mat-error>
                </mat-form-field>
            </div>
          </div>
        
          <div class="row">
            <!-- Status -->
            <div class="col-md-6">
              <mat-form-field appearance="outline" class="w-100">
                  <mat-label>Status</mat-label>
                  <mat-select formControlName="status">
                      <mat-option *ngFor="let option of statusOptions" [value]="option.id">
                        {{ option.name }}
                      </mat-option>
                    </mat-select>
                  <mat-error *ngIf="leadForm.get('status')?.hasError('required') && leadForm.get('status')?.touched">
                    Status is required.
                  </mat-error>
                </mat-form-field>
                
            </div>
        
            <!-- Assigned To -->
            <div class="col-md-6">
              <mat-form-field appearance="outline" class="w-100">
                  <mat-label>Assigned To</mat-label>
                  <mat-select formControlName="assignedTo">
                      <mat-option *ngFor="let option of assignedToOptions" [value]="option.id">
                        {{ option.name }}
                      </mat-option>
                  </mat-select>
                  <mat-error *ngIf="leadForm.get('assignedTo')?.hasError('required') && leadForm.get('assignedTo')?.touched">
                    Assigned person is required.
                  </mat-error>
                </mat-form-field>
            </div>
          </div>
        
          <div class="row">
            <!-- Lead Type -->
            <div class="col-md-6">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Lead Type</mat-label>
                <mat-select placeholder="Select lead type" formControlName="leadType">
                <mat-option *ngFor="let option of leadTypeOptions" [value]="option.id">
                    {{ option.name }}
                </mat-option>
                </mat-select>
                <mat-error *ngIf="leadForm.get('leadType')?.hasError('required') && leadForm.get('leadType')?.touched">
                  Lead type is required.
                </mat-error>
              </mat-form-field>
            </div>
        
            <!-- Notes -->
            <div class="col-md-6">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Notes</mat-label>
                <textarea
                  matInput
                  rows="3"
                  placeholder="Enter notes"
                  formControlName="notes"
                ></textarea>
                <mat-error *ngIf="leadForm.get('notes')?.hasError('maxlength')">
                  Notes cannot exceed 500 characters.
                </mat-error>
              </mat-form-field>
            </div>
          </div>
        
          <!-- Submit Button -->
          <div class="row mt-3">
            <div class="col-12 text-center">
              <button
                mat-raised-button
                color="primary"
                type="submit"
                [disabled]="leadForm.invalid"
              >
                Submit
              </button>
            </div>
          </div>
        </form>
        
    </mat-card-content>
  </mat-card>
</div>
